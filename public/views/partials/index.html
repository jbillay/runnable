<div ng-include="'partials/nav_index'"></div>

<section class="container-fluid imgback" id="inscription">
    <h1 class="text-center v-center">Partager un trajet vers une même passion</h1>

    <div class="container">
        <div class="row">
            <div class="col-sm-4 col-sm-offset-4 text-center inscription-form" ng-if="!isAuthenticated">
                <form name="userCreateFrom" role="form" ng-submit="createUser(userCreate)">
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6 inscription-form-left">
                            <div class="form-group inscription-form-group">
                                <input type="text" name="user[firstname]" id="firstname" ng-model="userCreate.firstname"
                                       class="form-control input-sm" placeholder="Prénom" tabindex="1">
                            </div>
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6 inscription-form-right">
                            <div class="form-group inscription-form-group">
                                <input type="text" name="user[lastname]" id="lastname" ng-model="userCreate.lastname"
									class="form-control input-sm" placeholder="Nom" tabindex="2">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="form-group inscription-form-group">
                                <input type="text" name="user[address]" id="address" ng-model="userCreate.address"
                                       typeahead="address for address in getLocation($viewValue)"
                                       class="form-control input-sm" placeholder="Ville" tabindex="3">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12">
                            <div class="form-group inscription-form-group">
                                <input type="email" name="user[email]" id="email" ng-model="userCreate.email"
									class="form-control input-sm" placeholder="Email" tabindex="4">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-6 col-sm-6 col-md-6 inscription-form-left">
                            <div class="form-group inscription-form-group">
                                <input type="password" name="user[password]" id="password" ng-model="userCreate.password"
                                       class="form-control input-sm" placeholder="Mot de passe" tabindex="5">
                            </div>
                        </div>
                        <div class="col-xs-6 col-sm-6 col-md-6 inscription-form-right">
                            <div class="form-group inscription-form-group">
                                <input type="password" name="user[password_confirmation]" id="password_confirmation"
									ng-model="userCreate.password_confirmation" class="form-control input-sm" 
									placeholder="Confirmation" tabindex="6">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-12 text-center">
                            <input type="submit" value="Inscription" class="btn btn-primary btn-block btn-sm"
                                   tabindex="7">
                        </div>
                    </div>
                </form>
            </div><!--/left-->
        </div><!--/row-->
        <div class="row"><br></div>
    </div><!--/container-->
</section>

<section class="container-fluid itineraire" id="itineraire">
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2 text-center">
            <h1>Nos derniers itinéraires</h1>
            <br>
            <div class="row journey_list">
                <div class="col-xs-3 journey_poster_home" ng-repeat="journey in listJourney">
                    <a href="/journey-{{journey.id}}">
                        <div id="map_canvas_{{journey.id}}" class="journey_map"></div>
                    </a>
                    <div class="journey_title"><a href="/journey-{{journey.id}}">{{journey.Run.name | capitalize | limitTo:20}}</a></div>
                    <div class="journey_desc">
                        <p><i class="glyphicon glyphicon-map-marker"></i> {{journey.address_start | capitalize | limitTo:21}}</p>
                        <p><i class="glyphicon glyphicon-sort"></i> {{journey.journey_type | capitalize}}</p>
                        <p><i class="glyphicon glyphicon-flag"></i> {{journey.date_start_outward | date:'dd / MM / yyyy'}}</p>
                        <p><i class="glyphicon glyphicon-time"></i> {{journey.duration}}</p>
                        <p><i class="glyphicon glyphicon-road"></i> {{journey.distance}}</p>
                    </div>
                </div>
            </div>
            <a href="/journey" class="btn btn-primary btn-lg btn-block" role="button">Trouver votre itinéraire</a>
        </div>
    </div>
</section>

<section class="container-fluid course" id="course">
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2 text-center">
            <h1>Nos dernières courses</h1>
            <br>
			<div class="row run_list">
				<div class="col-xs-3 run_poster_home" ng-repeat="run in listRun">
					<a href="/run-{{run.id}}"><img src="/img/run_default.jpg" class="run_img" alt="Responsive image"></a>
					<div class="run_title"><a href="/run-{{run.id}}">{{run.name | capitalize | limitTo:20}}</a></div>
					<div class="run_desc">
						<p><i class="glyphicon glyphicon-map-marker"></i> {{run.address_start | capitalize | limitTo:21}}</p>
						<p><i class="glyphicon glyphicon-calendar"></i> {{run.date_start | date:'dd / MM / yyyy'}}</p>
						<p><i class="glyphicon glyphicon-text-width"></i> {{run.distances}}</p>
						<p><i class="glyphicon glyphicon-road"></i> {{run.type | capitalize}}</p>
					</div>
				</div>				
			</div>
			<a href="/run" class="btn btn-primary btn-lg btn-block" role="button">Trouver votre course</a>
        </div>
    </div>
</section>

<section class="container-fluid fonctionnement" id="fonctionnement">
   <h2 class="text-center">Partagez plus qu'une course</h2>
     <div class="row">
         <div class="embed-responsive embed-responsive-16by9">
            <!--<iframe class="embed-responsive-item" src="//www.youtube.com/embed/zpOULjyy-n8?rel=0" allowfullscreen></iframe>-->
         </div>
     </div>
</section>

<section class="container imgback" id="apropos">
    <h1 class="text-center">Venez en savoir plus sur nous !</h1>
    <div class="row">
        <!--fontawesome icons-->
        <div class="col-sm-1 col-sm-offset-4 col-xs-4 text-center">
            <i class="fa fa-facebook fa-4x"></i>
        </div>
        <div class="col-sm-1 col-xs-4 text-center">
            <i class="fa fa-google-plus fa-4x"></i>
        </div>
        <div class="col-sm-1 col-xs-4 text-center">
            <i class="fa fa-instagram fa-4x"></i>
        </div>
        <div class="col-sm-1 col-xs-4 text-center">
            <i class="fa fa-pinterest fa-4x"></i>
        </div>
    </div><!--/row-->
    <div class="row col-sm-12">
        <div class="col-sm-5 col-sm-offset-1 panel panel-default home_panel">
            <div class="panel-body">
                <div class="panel panel-default col-sm-9" ng-class-odd="'pull-left'" ng-class-even="'pull-right'"
                     ng-repeat="feedback in userFeedback">
                    <div class="panel-body discussion_message">
                        <div class="panel-body discussion_message">
                            <p class="discussion_message_text">{{feedback.comment_service}}</p>
                            <span class="discussion_message_info pull-right">Note de {{feedback.rate_service}} / 5</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-5 col-sm-offset-1 panel panel-default home_panel">
            <div class="panel-body">
                <form name="mailContact" id="mailContact" ng-model="mailContact" ng-submit="sendContact(mailContact)">
                    <div class="form-group">
                        <label for="mailContactEmail">Votre email</label>
                        <input type="email" class="form-control" name="mailContact.email" id="mailContactEmail"
                               ng-model="mailContact.email">
                    </div>
                    <div class="form-group">
                        <label for="mailContactEmail">Sujet de votre demande</label>
                        <input type="text" class="form-control" name="mailContact.demande"  id="mailContactDemande"
                               ng-model="mailContact.demande">
                    </div>
                    <div class="form-group">
                        <label for="mailContactContent">Contenu de votre demande</label>
                        <textarea class="form-control" ng-model="mailContact.content" id="mailContactContent"
                                  name="mailContact.content" rows="4">
                        </textarea>
                    </div>
                    <button type="submit" class="btn btn-primary btn-sm pull-right">Envoyer</button>
                </form>
            </div>
        </div>
    </div>
</section>

<div ng-include="'partials/footer'"></div>